const homeLink=document.querySelector("#homeLink"),aboutLink=document.querySelector("#aboutLink"),skillsLink=document.querySelector("#skillsLink"),portfolioLink=document.querySelector("#portfolioLink");function classListSingleStateChecker(e,t,s,n){e.classList.contains(t)&&(e.classList.add(s),e.classList.remove(n))}function homeLinkOn(){classListSingleStateChecker(homeLink,"shortened","extended","shortened"),classListSingleStateChecker(aboutLink,"extended","shortened","extended"),classListSingleStateChecker(skillsLink,"extended","shortened","extended"),classListSingleStateChecker(portfolioLink,"extended","shortened","extended")}function aboutLinkOn(){classListSingleStateChecker(aboutLink,"shortened","extended","shortened"),classListSingleStateChecker(homeLink,"extended","shortened","extended"),classListSingleStateChecker(skillsLink,"extended","shortened","extended"),classListSingleStateChecker(portfolioLink,"extended","shortened","extended")}function skillsLinkOn(){classListSingleStateChecker(skillsLink,"shortened","extended","shortened"),classListSingleStateChecker(homeLink,"extended","shortened","extended"),classListSingleStateChecker(aboutLink,"extended","shortened","extended"),classListSingleStateChecker(portfolioLink,"extended","shortened","extended")}function portfolioLinkOn(){classListSingleStateChecker(portfolioLink,"shortened","extended","shortened"),classListSingleStateChecker(homeLink,"extended","shortened","extended"),classListSingleStateChecker(aboutLink,"extended","shortened","extended"),classListSingleStateChecker(skillsLink,"extended","shortened","extended")}homeLink.addEventListener("click",homeLinkOn),aboutLink.addEventListener("click",aboutLinkOn),skillsLink.addEventListener("click",skillsLinkOn),portfolioLink.addEventListener("click",portfolioLinkOn);const home=document.querySelector("#home"),about=document.querySelector("#about"),skills=document.querySelector("#skills"),portfolio=document.querySelector("#portfolio"),sections=document.getElementsByTagName("section");let options={rootMargin:"-45px 0px 0px 0px",threshold:"0.1"};const sectionObserver=new IntersectionObserver(((e,t)=>{for(const t of e)t.isIntersecting&&t.target===home&&(options={rootMargin:"300px 0px -45px 0px",threshold:"0.1"},homeLinkOn()),t.isIntersecting&&t.target===about&&(options={rootMargin:"-45px 0px 0px 0px",threshold:"0.1"},aboutLinkOn()),t.isIntersecting&&t.target===skills&&(options={rootMargin:"-45px 0px 0px 0px",threshold:"0.1"},skillsLinkOn()),t.isIntersecting&&t.target===portfolio&&(options={rootMargin:"-45px 0px 0px 0px",threshold:"0.05"},portfolioLinkOn())}),options);for(const e of sections)sectionObserver.observe(e);const homeButton=document.querySelector("#homeButton"),hamburgerMenu=document.querySelector("#hamburgerMenu"),overlay=document.querySelector("#overlay"),overlayUl=document.querySelector("#overlayUl"),overlayLinks=document.querySelectorAll(".overlay-links"),contactCard=document.querySelector("#contactCard"),contactCardBox=document.querySelector("#contactCardBox"),contactMail=document.querySelector("#mail-trigger"),mailOpen=document.querySelector("#mailOpen"),mailClose=document.querySelector("#mailClose"),selfPortrait=document.querySelector("#selfPortrait");function classListMultipleStateChecker(e,t,s){e.classList.contains(t)?(e.classList.add(s),e.classList.remove(t)):e.classList.contains(s)?(e.classList.add(t),e.classList.remove(s)):e.classList.add(s)}function toggleHamburger(){if(hamburgerMenu.classList.toggle("open"),hamburgerMenu.classList.contains("open"))for(let e=0;e<hamburgerMenu.children.length;e++)1===e?hamburgerMenu.children[1].style.transition="transform 300ms ease-in-out 600ms, width 300ms ease-in-out 0s, opacity 300ms ease-in-out 600ms":hamburgerMenu.children[e].style.transition="transform 300ms ease-in-out 300ms, background-color 300ms ease-in-out";else for(let e=0;e<hamburgerMenu.children.length;e++)hamburgerMenu.children[e].style.transition=1===e?"transform 300ms ease-in-out, width 300ms ease-in-out 300ms":"transform 350ms ease-in-out, background-color 300ms ease-in-out"}function toggleOverlay(){classListMultipleStateChecker(overlay,"fadeout","fadein")}function toggleMenu(){classListMultipleStateChecker(overlayUl,"slide-out","slide-in")}function toggleContactCard(){classListMultipleStateChecker(contactCard,"slide-out","slide-in")}function toggleMailButton(){mailOpen.classList.toggle("show"),mailClose.classList.toggle("show"),mailOpen.classList.contains("show")?(mailOpen.parentNode.style.transform="translateY(-5px)",mailOpen.parentNode.style.paddingTop="10px"):mailClose.classList.contains("show")&&(mailClose.parentNode.style.transform="translateY(0)",mailClose.parentNode.style.paddingTop="5px")}function toggleAllMenus(){overlayUl.classList.contains("slide-out")&&contactCard.classList.contains("slide-in")?toggleContactCard():toggleMenu()}function closeAll(){overlay.classList.contains("fadein")&&toggleOverlay(),overlayUl.classList.contains("slide-in")&&toggleMenu(),contactCard.classList.contains("slide-in")&&toggleContactCard(),hamburgerMenu.classList.contains("open")&&toggleHamburger(),mailOpen.classList.contains("show")&&toggleMailButton()}function toggleContactMenuFromOverlayMenu(e){e.preventDefault(),e.stopPropagation(),toggleContactCard(),toggleMenu()}function closeOverlayMenuAfterLinkClick(e){e.stopPropagation(),toggleOverlay(),toggleMenu(),toggleHamburger()}hamburgerMenu.addEventListener("click",(e=>{e.preventDefault(),hamburgerMenu.classList.contains("open")?closeAll():(toggleAllMenus(),toggleOverlay(),toggleHamburger())}));for(const[e,t]of overlayLinks.entries()){if(e===overlayLinks.length-1){t.addEventListener("click",toggleContactMenuFromOverlayMenu);break}t.addEventListener("click",closeOverlayMenuAfterLinkClick)}contactMail.addEventListener("click",(e=>{e.preventDefault(),toggleOverlay(),toggleContactCard(),toggleMailButton()})),contactMail.addEventListener("keypress",(e=>{"Enter"===e.key&&contactMail.click()})),overlay.addEventListener("click",closeAll),contactCardBox.addEventListener("click",(e=>e.stopPropagation())),homeButton.addEventListener("click",closeAll),selfPortrait.addEventListener("click",(e=>{e.preventDefault(),toggleOverlay(),toggleContactCard(),toggleMailButton(),toggleHamburger(),screen.width>885&&contactMail.focus()})),selfPortrait.addEventListener("keypress",(e=>{"Enter"===e.key&&selfPortrait.click()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&(closeAll(),document.activeElement.blur())}));let lastKnownScrollPosition=0,ticking=!1;const coolShape=document.querySelector("#coolShape"),tinyShape1=document.querySelector("#tinyShape1"),tinyShape2=document.querySelector("#tinyShape2");function scrollListener(){lastKnownScrollPosition=window.scrollY,ticking||(window.requestAnimationFrame((()=>{scrollMoveBigShape(lastKnownScrollPosition),scrollMoveSmallShapes(lastKnownScrollPosition),ticking=!1})),ticking=!0)}function scrollMoveBigShape(e){screen.width>1073?coolShape.style.transform=`translateX(${.9*-e-100}px)`:screen.width>600&&screen.width<=1073?coolShape.style.transform=`translateX(${1.1*-e-100}px)`:screen.width>=390&&screen.width<=600?coolShape.style.transform=`translateX(${1.3*-e-100}px)`:coolShape.style.transform=`translateX(${1.5*-e-100}px)`}function scrollMoveSmallShapes(e){tinyShape1.style.transform=`translateX(${.5*e+2500}px)`,tinyShape2.style.transform=`translateX(${.5*e-3500}px)`}document.addEventListener("scroll",scrollListener);const buttons=document.querySelectorAll(".button");function toggleButtonClassMouseDown(e,t,s){e.onmousedown=()=>{e.classList.toggle(t),e.classList.toggle(s)}}function toggleButtonClassMouseUp(e,t,s){e.onmouseup=()=>{e.classList.toggle(t),e.classList.toggle(s)}}for(const e of buttons)e.classList.contains("disabled")||(toggleButtonClassMouseDown(e,"dark-switch","pressed"),toggleButtonClassMouseUp(e,"dark-switch","pressed"),e.classList.contains("dark")||(toggleButtonClassMouseDown(e,"cyan-switch","pressed"),toggleButtonClassMouseUp(e,"cyan-switch","pressed")));const viewMode=document.querySelector("#view-mode"),viewModeDisc=document.querySelector(".view-mode-disc"),sun=document.querySelector("#sun"),moon=document.querySelector("#moon"),markedItems=document.querySelectorAll(".marked");let rotation=540;function invertImages(){for(const e of markedItems)e.classList.contains("whiten")?e.classList.toggle("invert-whiten"):e.classList.toggle("invert")}function toggleSunAndMoon(){sun.classList.toggle("show"),moon.classList.toggle("show"),changeButtonTitle()}function changeButtonTitle(){sun.classList.contains("show")&&(viewMode.title="Light mode"),moon.classList.contains("show")&&(viewMode.title="Dark mode")}function rotateDisc(){viewModeDisc.style.transform=`rotate(${rotation}deg)`,rotation+=540,toggleSunAndMoon()}function toggleDarkMode(){document.body.classList.toggle("dark-mode"),document.body.classList.toggle("light-mode"),invertImages()}function removeHamburgerTransition(){for(let e=0;e<hamburgerMenu.children.length;e++)1!==e?hamburgerMenu.children[e].style.transition="transform 300ms ease-in-out 300ms":hamburgerMenu.children[1].style.transition="transform 300ms ease-in-out, width 300ms ease-in-out, opacity 300ms ease-in-out"}window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.body.classList.add("dark-mode"),toggleSunAndMoon(),invertImages(),changeButtonTitle()),window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches&&(document.body.classList.add("light-mode"),changeButtonTitle()),viewMode.addEventListener("click",(e=>{e.preventDefault(),rotateDisc(),toggleDarkMode(),removeHamburgerTransition()})),viewMode.addEventListener("keypress",(e=>{"Enter"===e.key&&viewMode.click()}));class IntervalClass{constructor(){this.handle=0}static start(e,t){this.stop(),this.handle=setInterval(e,t)}static stop(){this.handle&&(clearInterval(this.handle),this.handle=0)}}const displayImages=document.querySelectorAll(".display-img"),displayTextContainer=document.querySelector("#displayTextContainer"),displayTextFields=displayTextContainer.children,slideshowItems=document.querySelectorAll(".slideshow-item"),closeContainers=document.querySelectorAll(".close-container"),autoPlaySlideShow=document.querySelector("#autoPlaySlideShow"),displayImgContainer=document.querySelector("#displayImgContainer"),flipCardButtons=document.querySelectorAll(".button-container"),TITLES=["Online Bookstore","Clinic website","Budget calculator","Face detector","Task handler"],ANIMATION_INTERVAL=250,PAUSE_TIME=7e3;function animateOut(e){e.animate([{transform:"rotateY(0)"},{transform:"rotateY(90deg)"}],{duration:250,iterations:1}),e.animate([{opacity:1},{opacity:0}],{duration:250,iterations:1})}function animateIn(e){e.animate([{opacity:0},{opacity:1}],{duration:250,iterations:1}),e.animate([{transform:"rotateY(-90deg)"},{transform:"rotateY(0)"}],{duration:250,iterations:1})}function animatePseudoElement(e,t,s,n){screen.size<669||e.animate({transform:[`translateY(${s}rem)`,`translateY(${n}rem)`]},{duration:250,iterations:1,pseudoElement:t})}function changeDisplayImg(e,t){displayImages[e].classList.add("show"),displayImages[t].classList.remove("show")}function changedisplayText(e,t){displayTextFields[e].classList.add("show"),displayTextFields[t].classList.remove("show")}function flipCardToBack(e){animateOut(displayImages[e]),setTimeout((()=>{closeContainers[e].setAttribute("tabindex",0),flipCardButtons[e].children[0].style.visibility="visible",flipCardButtons[e].children[1].style.visibility="visible",displayImages[e].classList.remove("show"),animateIn(displayTextContainer),displayTextContainer.classList.add("show"),displayTextFields[e].classList.add("show")}),250)}function flipCardToFront(e){animateOut(displayTextContainer),setTimeout((()=>{closeContainers[e].removeAttribute("tabindex"),flipCardButtons[e].children[0].style.visibility="hidden",flipCardButtons[e].children[1].style.visibility="hidden",displayTextContainer.classList.remove("show"),displayTextFields[e].classList.remove("show"),animateIn(displayImages[e]),displayImages[e].classList.add("show")}),250)}function renderNewCard(){curr++,5===curr&&(curr=0),5===prev&&(prev=0),animateOut(displayImages[prev]),screen.width<669?animateOut(displayTextFields[prev]):displayTextFields[prev].classList.remove("show"),animatePseudoElement(displayImgContainer,"::before",0,-20),animatePseudoElement(displayImgContainer,"::after",0,20),curr>0&&(slideshowItems[prev].dataset.active=!1),setTimeout((()=>{screen.width>669?(closeContainers[curr].removeAttribute("tabindex"),flipCardButtons[curr].children[0].style.visibility="hidden",flipCardButtons[curr].children[1].style.visibility="hidden"):(animateIn(displayTextFields[curr]),displayTextFields[prev].classList.remove("show")),0===curr&&(slideshowItems[4].dataset.active=!1),displayTextFields[curr].classList.add("show"),changeDisplayImg(curr,prev),animateIn(displayImages[curr]),displayImgContainer.dataset.title=TITLES[curr],animatePseudoElement(displayImgContainer,"::before",-20,0),animatePseudoElement(displayImgContainer,"::after",20,0),slideshowItems[curr].dataset.active=!0,prev++}),250)}let curr=0,prev=0;screen.width<669?displayTextContainer.classList.contains("show")||displayTextContainer.classList.add("show"):(closeContainers[0].removeAttribute("tabindex"),flipCardButtons[0].children[0].style.visibility="hidden",flipCardButtons[0].children[1].style.visibility="hidden"),changeDisplayImg(0,4),changedisplayText(0,4),IntervalClass.start(renderNewCard,7e3);for(let e=0;e<slideshowItems.length;e++)slideshowItems[e].addEventListener("click",(()=>{IntervalClass.stop(),autoPlaySlideShow.checked=!1,displayImages[curr].classList.contains("show")&&curr!==e?animateOut(displayImages[curr]):displayTextContainer.classList.contains("show")&&screen.width>669&&(animateOut(displayTextContainer),displayTextContainer.classList.remove("show"),setTimeout((()=>{animateIn(displayImages[e])}),250)),screen.width<669&&curr!==e&&animateOut(displayTextFields[curr]),curr!==e&&animatePseudoElement(displayImgContainer,"::before",0,-20),curr!==e&&animatePseudoElement(displayImgContainer,"::after",0,20),setTimeout((()=>{screen.width<669&&curr!==e&&animateIn(displayTextFields[e]),displayTextFields[curr].classList.remove("show"),displayImages[curr].classList.remove("show"),curr!==e&&animateIn(displayImages[e]),displayImages[e].classList.add("show"),displayTextFields[e].classList.add("show"),curr!==e&&(displayImgContainer.dataset.title=TITLES[e],animatePseudoElement(displayImgContainer,"::before",-20,0),animatePseudoElement(displayImgContainer,"::after",20,0),slideshowItems[curr].dataset.active=!1,slideshowItems[e].dataset.active=!0,prev=curr=e)}),250)})),slideshowItems[e].addEventListener("keypress",(t=>{"Enter"===t.key&&slideshowItems[e].click()}));if(screen.width>669){for(let e=0;e<displayImages.length;e++)displayImages[e].addEventListener("click",(()=>{IntervalClass.stop(),autoPlaySlideShow.checked=!1,flipCardToBack(e)}));for(let e=0;e<closeContainers.length;e++)closeContainers[e].addEventListener("click",(()=>{flipCardToFront(e),autoPlaySlideShow.checked=!0,IntervalClass.start(renderNewCard,7e3)}))}autoPlaySlideShow.addEventListener("click",(()=>{if(autoPlaySlideShow.checked?setTimeout((()=>{renderNewCard(),IntervalClass.start(renderNewCard,7e3)}),3500):IntervalClass.stop(),!(screen.width<669))for(let e=0;e<displayTextFields.length;e++)displayTextFields[e].classList.contains("show")&&displayTextContainer.classList.contains("show")&&flipCardToFront(e)}));
